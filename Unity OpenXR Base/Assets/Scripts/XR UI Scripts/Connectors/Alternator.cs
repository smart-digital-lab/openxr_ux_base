/**********************************************************************************************************************************************************
 * Alternator
 * ----------
 *
 * 2021-09-05
 *
 * Alternates between true and false
 *
 * Roy Davies, Smart Digital Lab, University of Auckland.
 **********************************************************************************************************************************************************/

using System.Collections;
using System.Collections.Generic;
using UnityEngine;

// ----------------------------------------------------------------------------------------------------------------------------------------------------------
// Public functions
// ----------------------------------------------------------------------------------------------------------------------------------------------------------
public interface _Alternator
{
    void Input();
}
// ----------------------------------------------------------------------------------------------------------------------------------------------------------



// ----------------------------------------------------------------------------------------------------------------------------------------------------------
// Main class
// ----------------------------------------------------------------------------------------------------------------------------------------------------------
[AddComponentMenu("OpenXR UX/Connectors/Alternator")]
public class Alternator : MonoBehaviour, _Alternator
{
    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    // Public variables
    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    [Header("____________________________________________________________________________________________________")]
    [Header("Toggles output between true and false.\n____________________________________________________________________________________________________")]
    [Header("INPUTS\n\n - Input() - Trigger to activate function.")]

    [Header("____________________________________________________________________________________________________")]
    [Header("SETTINGS")]

    [Header("____________________________________________________________________________________________________")]
    [Header("OUTPUTS")]
     public UnityXRDataEvent onChange;
    // ------------------------------------------------------------------------------------------------------------------------------------------------------



    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    // Private variables
    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    private bool currentValue = false;
    // ------------------------------------------------------------------------------------------------------------------------------------------------------



    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    // Send a random number
    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    public void Input ()
    {
        currentValue = !currentValue;
        if (onChange != null) onChange.Invoke(new XRData(currentValue));
    }
    // ------------------------------------------------------------------------------------------------------------------------------------------------------
}
