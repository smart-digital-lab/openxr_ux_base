/**********************************************************************************************************************************************************
 * XRKeyboard
 * ----------
 *
 * 2021-09-05
 *
 * A convenience script to make using the XRKeyboard more intuitive
 *
 * Roy Davies, Smart Digital Lab, University of Auckland.
 **********************************************************************************************************************************************************/

using System.Collections;
using System.Collections.Generic;
using UnityEngine;

// ----------------------------------------------------------------------------------------------------------------------------------------------------------
// Public functions
// ----------------------------------------------------------------------------------------------------------------------------------------------------------
public interface _XRKeyboard
{
    void Send(XRData theData);
}
// ----------------------------------------------------------------------------------------------------------------------------------------------------------



// ----------------------------------------------------------------------------------------------------------------------------------------------------------
// Main class
// ----------------------------------------------------------------------------------------------------------------------------------------------------------
[AddComponentMenu("OpenXR UX/Objects/XR Keyboard")]
public class XRKeyboard : MonoBehaviour, _XRKeyboard
{
    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    // Public variables
    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    [Header("____________________________________________________________________________________________________")]
    [Header("A keyboard for using in your Virtual Environments.\n____________________________________________________________________________________________________")]
    [Header("INPUTS\n\n - Send( XRData ) - Activate onSend - used by the enter key.")]

    [Header("____________________________________________________________________________________________________")]
    [Header("SETTINGS")]
    [Header("Clear the display when enter is pressed.")]
    public bool clearOnSend = false;
    public XRInputfield inputfield;
    [Header("____________________________________________________________________________________________________")]
    [Header("OUTPUTS")]
    [Header("Where to send the collected input when enter key pressed.")]
    public UnityXRDataEvent onSend;
    // ------------------------------------------------------------------------------------------------------------------------------------------------------



    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    // Private variables
    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    // ------------------------------------------------------------------------------------------------------------------------------------------------------



    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    // Add the 'Quietly' variable and send on
    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    public void Send (XRData theData)
    {
        if (onSend != null) onSend.Invoke(theData);
        if (inputfield != null) inputfield.Clear();
    }
    // ------------------------------------------------------------------------------------------------------------------------------------------------------
}
