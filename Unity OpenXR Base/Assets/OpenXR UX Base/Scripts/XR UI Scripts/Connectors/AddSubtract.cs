/**********************************************************************************************************************************************************
 * AddSubtract
 * -----------
 *
 * 2021-09-27
 *
 * Adds a set amount to XRData integer.
 *
 * Roy Davies, Smart Digital Lab, University of Auckland.
 **********************************************************************************************************************************************************/

using System.Collections;
using System.Collections.Generic;
using UnityEngine;

// ----------------------------------------------------------------------------------------------------------------------------------------------------------
// Public functions
// ----------------------------------------------------------------------------------------------------------------------------------------------------------
public interface _AddSubtract
{
    void Input(XRData theData);
}
// ----------------------------------------------------------------------------------------------------------------------------------------------------------



// ----------------------------------------------------------------------------------------------------------------------------------------------------------
// Main class
// ----------------------------------------------------------------------------------------------------------------------------------------------------------
[AddComponentMenu("OpenXR UX/Connectors/Add or Subtract")]
public class AddSubtract : MonoBehaviour, _AddSubtract
{
    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    // Public variables
    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    [Header("____________________________________________________________________________________________________")]
    [Header("Add a set amount to an XRData Integer.\n____________________________________________________________________________________________________")]
    [Header("INPUTS\n\n - Input() - Input Value.")]

    [Header("____________________________________________________________________________________________________")]
    [Header("SETTINGS")]
    [Header("The Integer variable.")]
    public int amountToAdd;

    [Header("____________________________________________________________________________________________________")]
    [Header("OUTPUTS")]
    public UnityXRDataEvent onChange;
    // ------------------------------------------------------------------------------------------------------------------------------------------------------



    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    // Private variables
    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    // ------------------------------------------------------------------------------------------------------------------------------------------------------


    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    // Send an Integer
    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    public void Input(XRData theData)
    {
        if (onChange != null) onChange.Invoke(new XRData(theData.ToInt() + amountToAdd));
    }
    // ------------------------------------------------------------------------------------------------------------------------------------------------------
}
